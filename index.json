[
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/introduction/building-this-site/",
	"title": "Building this site",
	"tags": [],
	"description": "",
	"content": "I already have Hugo installed. I installed it using MacPorts.\nCreate a project cd ~/Sites hugo new site pymol-notes Install the theme I want to use the Learn theme for Hugo. It is a theme designed for documentation. It looks nice and is functional.\nThis theme has tons of useful features. Check out the Hugo Learn Theme documentation.\nThe theme\u0026rsquo;s repository is: https://github.com/matcornic/hugo-theme-learn.git.\ncd pymol-notes git init git submodule add https://github.com/matcornic/hugo-theme-learn.git themes/hugo-theme-learn echo \u0026#39;theme = \u0026#34;hugo-theme-learn\u0026#34;\u0026#39; \u0026gt;\u0026gt; config.toml Configure the theme Open config.toml and add the following:\n# Change the default theme to be use when building the site with Hugo theme = \u0026#34;hugo-theme-learn\u0026#34; # Change the title title = \u0026#34;PyMOL Notes\u0026#34; # For search functionality [outputs] home = [ \u0026#34;HTML\u0026#34;, \u0026#34;RSS\u0026#34;, \u0026#34;JSON\u0026#34;] Create a chapter page hugo new --kind chapter introduction/_index.md Create some content hugo new introduction/building-this-site.md Spin up the site hugo server  When you run hugo server, Hugo will build the site in and serve the pages from memory.\n Go to http://localhost:1313.\nSuccess!\nIf you want the site to be built in, and served from, the public directory, then run hugo server --renderToDisk. If you just want to build the site in the public directory, then run hugo.\n Create a homepage hugo new _index.md Add some content to the homepage, and you\u0026rsquo;re good to go!\nAdd another chapter page # make sure you are in the pymol-notes directory cd ~/Sites/pymol-notes hugo new --kind chapter GROMACS-simulations/_index.md  Open the new _index.md file and change the front matter and add some text. Create some content:  hugo new GROMACS-simulations/protein-ligand-tutorial.md  Open protein-ligand-tutorial.md and paste in the contents of my research notes .md file.  Save the files, and track them with git.\ngit status git add . git commit -m \u0026#34;added a new chapter on gromacs\u0026#34; # deploy the new pages git push origin main Getting equations to display properly I use equations sometimes, and it is nice to have them display properly on webpages. I found this post on MathJax support in the Hugo documentation. I put the following HTML code in my /layouts/partials/footer.html file.\n\u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; For inline math, use \\\\(\u0026lt;math here\u0026gt;\\\\) and for more complex math use:\n\\\\[ \u0026lt;complex math here\u0026gt; \\\\] Success!\nFor MathJax syntax, see these web pages:\nMathJax Cheat Sheet\nLaTeX Math Symbols cheat sheet\nSupported Katex Functions\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/introduction/",
	"title": "Introduction",
	"tags": [],
	"description": "",
	"content": "Chapter 1 Introduction Here I\u0026rsquo;ll document how I built this site. Thanks to excellent documentation for Hugo and the theme, it was straightforward.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/md-simulations/",
	"title": "MD Simulations",
	"tags": [],
	"description": "",
	"content": "Chapter 2 Molecular Dynamics Simulations I\u0026rsquo;ve started doing some molecular dynamics simulations as a way to further validate my protein-ligand docking results. There are many software packages and force fields available as well as a variety of analysis tools. Here is where I\u0026rsquo;ll keep my notes as I try different software and analyses.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/md-simulations/gromacs-simulations/protein-ligand-tutorial/",
	"title": "Protein-Ligand Complex Tutorial",
	"tags": ["tutorial"],
	"description": "",
	"content": "This tutorial is from this website.\n  Download 3HTB from the RCSB website.\n  View the structure in VMD.\n  cd ../gromacs-work/gromacs-prot-ligand-tutorial mol new 3htb.pdb mol modstyle 0 0 licorice A few of the amino acids have 2 conformers that are present in the structure.\n Strip out the crystal waters, PO4, and BME.  awk \u0026#39;!(/HETATM/ \u0026amp;\u0026amp; /HOH/ || /HETATM/ \u0026amp;\u0026amp; /BME/ || /HETATM/ \u0026amp;\u0026amp; /PO4/)\u0026#39; 3htb.pdb \u0026gt; 3htb-clean.pdb # \u0026amp;\u0026amp; is AND, and || is OR # ! shows the lines that do not have the pattern The tutorial-supplied file is 3htb_clean.pdb. For fun, run:\ngit diff --no-index --word-diff 3htb-clean.pdb 3htb_clean.pdb Because I used the more specific awk command instead of multiple grep commands, I have a few lines in the 3htb-clean.pdb file that are missing from the 3htb_clean.pdb file. Also the 3htb_clean.pdb file is missing all the CONECT entries. I\u0026rsquo;ll remove them from 3htb-clean.pdb:\nawk \u0026#39;!/CONECT/\u0026#39; 3htb-clean.pdb \u0026gt; 3htb-tmp.pdb mv -i 3htb-tmp.pdb 3htb-clean.pdb Nice!\n Put the JZ4 coordinates into its own file.  grep JZ4 3HTB-clean.pdb \u0026gt; jz4.pdb awk \u0026#39;!(/HETATM/ \u0026amp;\u0026amp; /JZ4/)\u0026#39; 3HTB-clean.pdb \u0026gt; 3htb-tmp.pdb mv -i 3htb-tmp.pdb 3htb-clean.pdb  Check which version of python you are using with python --version. Download the CHARMM36 force field file from the MacKerell lab website. Download the cgenff_charmm2gmx.py script from the same website. Unarchive the force field tarball:  tar -zxvf charmm36-feb2021.ff.tgz rm charmm36-feb2021.ff.tgz  Write the topology for the T4 lysozyme with pdb2gmx:  gmx pdb2gmx -f 3htb-clean.pdb -o 3htb_processed.gro # choose the CHARMM36 force field (option 1) # choose the default water model (TIP 3-point, recommended, by default uses CHARMM TIP3 with LJ on H) Step Two: Prepare the Ligand Topology Add Hydrogen Atoms to JZ4  Add hydrogens using Avogadro. Save the file as a .mol2 file. Open the file in a text editor. Under the @\u0026lt;TRIPOS\u0026gt;MOLECULE heading, change ***** to JZ4. Fix the residue names and numbers such that they are all the same. Change:  @\u0026lt;TRIPOS\u0026gt;ATOM 1 C4 24.2940 -24.1240 -0.0710 C.3 167 JZ4167 -0.0650 2 C7 21.5530 -27.2140 -4.1120 C.ar 167 JZ4167 -0.0613 3 C8 22.0680 -26.7470 -5.3310 C.ar 167 JZ4167 -0.0583 4 C9 22.6710 -25.5120 -5.4480 C.ar 167 JZ4167 -0.0199 5 C10 22.7690 -24.7300 -4.2950 C.ar 167 JZ4167 0.1200 6 C11 21.6930 -26.4590 -2.9540 C.ar 167 JZ4167 -0.0551 7 C12 22.2940 -25.1870 -3.0750 C.ar 167 JZ4167 -0.0060 8 C13 22.4630 -24.4140 -1.8080 C.3 167 JZ4167 -0.0245 9 C14 23.9250 -24.7040 -1.3940 C.3 167 JZ4167 -0.0518 10 OAB 23.4120 -23.5360 -4.3420 O.3 167 JZ4167 -0.5065 11 H 25.3133 -24.3619 0.1509 H 1 UNL1 0.0230 12 H 23.6591 -24.5327 0.6872 H 1 UNL1 0.0230 13 H 24.1744 -23.0611 -0.1016 H 1 UNL1 0.0230 14 H 21.0673 -28.1238 -4.0754 H 1 UNL1 0.0618 15 H 21.9931 -27.3472 -6.1672 H 1 UNL1 0.0619 16 H 23.0361 -25.1783 -6.3537 H 1 UNL1 0.0654 17 H 21.3701 -26.8143 -2.0405 H 1 UNL1 0.0621 18 H 21.7794 -24.7551 -1.0588 H 1 UNL1 0.0314 19 H 22.2659 -23.3694 -1.9301 H 1 UNL1 0.0314 20 H 24.5755 -24.2929 -2.1375 H 1 UNL1 0.0266 21 H 24.0241 -25.7662 -1.3110 H 1 UNL1 0.0266 22 H 23.7394 -23.2120 -5.1580 H 1 UNL1 0.2921 to\n@\u0026lt;TRIPOS\u0026gt;ATOM 1 C4 24.2940 -24.1240 -0.0710 C.3 1 JZ4 -0.0650 2 C7 21.5530 -27.2140 -4.1120 C.ar 1 JZ4 -0.0613 3 C8 22.0680 -26.7470 -5.3310 C.ar 1 JZ4 -0.0583 4 C9 22.6710 -25.5120 -5.4480 C.ar 1 JZ4 -0.0199 5 C10 22.7690 -24.7300 -4.2950 C.ar 1 JZ4 0.1200 6 C11 21.6930 -26.4590 -2.9540 C.ar 1 JZ4 -0.0551 7 C12 22.2940 -25.1870 -3.0750 C.ar 1 JZ4 -0.0060 8 C13 22.4630 -24.4140 -1.8080 C.3 1 JZ4 -0.0245 9 C14 23.9250 -24.7040 -1.3940 C.3 1 JZ4 -0.0518 10 OAB 23.4120 -23.5360 -4.3420 O.3 1 JZ4 -0.5065 11 H 25.3133 -24.3619 0.1509 H 1 JZ4 0.0230 12 H 23.6591 -24.5327 0.6872 H 1 JZ4 0.0230 13 H 24.1744 -23.0611 -0.1016 H 1 JZ4 0.0230 14 H 21.0673 -28.1238 -4.0754 H 1 JZ4 0.0618 15 H 21.9931 -27.3472 -6.1672 H 1 JZ4 0.0619 16 H 23.0361 -25.1783 -6.3537 H 1 JZ4 0.0654 17 H 21.3701 -26.8143 -2.0405 H 1 JZ4 0.0621 18 H 21.7794 -24.7551 -1.0588 H 1 JZ4 0.0314 19 H 22.2659 -23.3694 -1.9301 H 1 JZ4 0.0314 20 H 24.5755 -24.2929 -2.1375 H 1 JZ4 0.0266 21 H 24.0241 -25.7662 -1.3110 H 1 JZ4 0.0266 22 H 23.7394 -23.2120 -5.1580 H 1 JZ4 0.2921  Fix the bond order using the sort_mol2_bonds.pl script.  perl sort_mol2_bonds.pl jz4.mol2 jz4_fix.mol2  Use the jz4_fix.mol2 file for the next step.  Generate the JZ4 Topology with CGenFF  Log in to your account on the CGenFF server. Click the Choose File button and choose the jz4_fix.mol2 file. Then click the Upload File button. Compare the file with the one from the tutorial:  git diff --no-index --word-diff jz4_fix.str jz4.str The tutorial file has atoms labeled C1, C2, etc. whereas the file I generated has atoms labeled C4, C5, etc. but none labeled C1 etc.. This is due to how CGenFF processed the file, because the jz4_fix.mol2 file I generated was the same as the one downloaded from the tutorial site.\nAll of my penalty scores were less than 10, so the file should be good to go.\n Use the cgenff_charmm2gmx_py3_nx2.py script to convert the topology from CHARMM to GROMACS format.  python cgenff_charmm2gmx_py3_nx2.py JZ4 jz4_fix.mol2 jz4_fix.str charmm36-feb2021.ff # I got this error: # File \u0026#34;cgenff_charmm2gmx_py3_nx2.py\u0026#34;, line 53, in \u0026lt;module\u0026gt; # import numpy as np # ModuleNotFoundError: No module named \u0026#39;numpy\u0026#39; Try to install numpy.\npython3 -m pip install numpy Looks like it installed okay. Try script again:\npython cgenff_charmm2gmx_py3_nx2.py JZ4 jz4_fix.mol2 jz4_fix.str charmm36-feb2021.ff # got this error: # ModuleNotFoundError: No module named \u0026#39;networkx\u0026#39; # try to fix: python3 -m pip install networkx # try again: python cgenff_charmm2gmx_py3_nx2.py JZ4 jz4_fix.mol2 jz4_fix.str charmm36-feb2021.ff # Got this error: # File \u0026#34;cgenff_charmm2gmx_py3_nx2.py\u0026#34;, line 991, in \u0026lt;module\u0026gt; # if(float(nx.__version__) \u0026lt; 2.0): # ValueError: could not convert string to float: \u0026#39;2.6.3\u0026#39; # try to use the other script: python cgenff_charmm2gmx_py3_nx1.py JZ4 jz4_fix.mol2 jz4_fix.str charmm36-feb2021.ff  Try the following:  python3 -m pip uninstall networkx python3 -m pip install networkx==2.3 python cgenff_charmm2gmx_py3_nx2.py JZ4 jz4_fix.mol2 jz4_fix.str charmm36-feb2021.ff I got the error:\nNOTE 3: Please be sure to use the same version of CGenFF in your simulations that was used during parameter generation: --Version of CGenFF detected in jz4_fix.str : 4.5 --Version of CGenFF detected in charmm36-feb2021.ff/forcefield.doc : 4.4 WARNING: CGenFF versions are not equivalent! From the web:\n Don\u0026rsquo;t worry about this difference. The web server needs to be updated, but not in any way that affects the end user.\n —Justin A. Lemkul, Ph.D.\nBuild the Complex  Convert jz4_ini.pdb to .gro format with editconf:  gmx editconf -f jz4_ini.pdb -o jz4.gro  Copy 3htb_processed.gro to a new file to be manipulated, for instance, call it complex.gro.  cp 3htb_processed.gro complex.gro  Copy the coordinate section of jz4.gro and paste it into complex.gro, below the last line of the protein atoms, and before the box vectors, like so:  163ASN HD22 2611 0.944 -0.584 -0.525 163ASN C 2612 0.621 -0.740 -0.126 163ASN OT1 2613 0.624 -0.616 -0.140 163ASN OT2 2614 0.683 -0.703 -0.011 1JZ4 C4 1 2.429 -2.412 -0.007 1JZ4 C7 2 2.155 -2.721 -0.411 1JZ4 C8 3 2.207 -2.675 -0.533 1JZ4 C9 4 2.267 -2.551 -0.545 1JZ4 C10 5 2.277 -2.473 -0.430 1JZ4 C11 6 2.169 -2.646 -0.295 1JZ4 C12 7 2.229 -2.519 -0.308 1JZ4 C13 8 2.246 -2.441 -0.181 1JZ4 C14 9 2.392 -2.470 -0.139 1JZ4 OAB 10 2.341 -2.354 -0.434 1JZ4 H1 11 2.531 -2.436 0.015 1JZ4 H2 12 2.366 -2.453 0.069 1JZ4 H3 13 2.417 -2.306 -0.010 1JZ4 H4 14 2.107 -2.812 -0.407 1JZ4 H5 15 2.199 -2.735 -0.617 1JZ4 H6 16 2.304 -2.518 -0.635 1JZ4 H7 17 2.137 -2.681 -0.204 1JZ4 H8 18 2.178 -2.476 -0.106 1JZ4 H9 19 2.227 -2.337 -0.193 1JZ4 H10 20 2.458 -2.429 -0.214 1JZ4 H11 21 2.402 -2.577 -0.131 1JZ4 H12 22 2.374 -2.321 -0.516 5.99500 5.19182 9.66100 0.00000 0.00000 -2.99750 0.00000 0.00000 0.00000  IMPORTANT! Since we have added 22 more atoms into the .gro file, increment the second line of complex.gro to reflect this change. There should be 2636 atoms in the coordinate file now.  Build the Topology  Insert a line that says #include \u0026quot;jz4.itp\u0026quot; into topol.top after the position restraint file is included, like so:  ; Include Position restraint file #ifdef POSRES #include \u0026#34;posre.itp\u0026#34; #endif ; Include water topology #include \u0026#34;./charmm36-feb2021.ff/tip3p.itp\u0026#34; Becomes \u0026hellip;\n; Include Position restraint file #ifdef POSRES #include \u0026#34;posre.itp\u0026#34; #endif ; Include ligand topology #include \u0026#34;jz4.itp\u0026#34; ; Include water topology #include \u0026#34;./charmm36-feb2021.ff/tip3p.itp\u0026#34;  Insert an #include statement to add the jz4.prm parameters at the TOP of topol.top, like so:  ; Include forcefield parameters #include \u0026#34;./charmm36-feb2021.ff/forcefield.itp\u0026#34; [ moleculetype ] ; Name nrexcl Protein_chain_A 3 Becomes\n; Include forcefield parameters #include \u0026#34;./charmm36-feb2021.ff/forcefield.itp\u0026#34; ; Include ligand parameters #include \u0026#34;jz4.prm\u0026#34; [ moleculetype ] ; Name nrexcl Protein_chain_A 3 It is important to place this statement before any [ moleculetype ] entry. It must also appear AFTER the #include statement for the parent force field.\n Add the JZ4 molecule to [ molecules ] directive, like so:  [ molecules ] ; Compound #mols Protein_chain_A 1 JZ4 1 Step Three: Defining the Unit Cell \u0026amp; Adding Solvent  Define the unit cell and fill it with water.  gmx editconf -f complex.gro -o newbox.gro -bt dodecahedron -d 1.0 gmx solvate -cp newbox.gro -cs spc216.gro -p topol.top -o solv.gro Step Four: Adding Ions  Use grompp to assemble a .tpr file, using any .mdp file. I downloaded the ions.mdp file from this website.  gmx grompp -f ions.mdp -c solv.gro -p topol.top -o ions.tpr  Pass the .tpr file to genion:  gmx genion -s ions.tpr -o solv_ions.gro -p topol.top -pname NA -nname CL -neutral # when prompted, choose group 15: # Group 15 ( SOL) has 30882 elements The names of the ions specified with -pname and -nname are always the elemental symbol in all capital letters. Refer to ions.itp for proper nomenclature if you encounter difficulties.\n Open the topol.top file. Your [ molecules ] directive should now look like:  [ molecules ] ; Compound #mols Protein_chain_A 1 JZ4 1 SOL 10288 CL 6 Step Five: Energy Minimization  Create the binary input using grompp using the em.mdp input parameter file from this website:  gmx grompp -f em.mdp -c solv_ions.gro -p topol.top -o em.tpr  Invoke mdrun to carry out the energy minimization (EM):  gmx mdrun -v -deffnm em For the tutorial author, the system converged relatively quickly:\nSteepest Descents converged to Fmax \u0026lt; 1000 in 143 steps Potential Energy = -4.9014547e+05 Maximum force = 8.7411469e+02 on atom 27 Norm of force = 5.6676244e+01 My system also converged relatively quickly:\nSteepest Descents converged to Fmax \u0026lt; 1000 in 156 steps Potential Energy = -4.9085631e+05 Maximum force = 8.8324829e+02 on atom 2045 Norm of force = 5.6558131e+01 Step Six: Equilibration Restraining the Ligand  Generate a position restraint topology for the ligand. First, create an index group for JZ4 that contains only its non-hydrogen atoms:  gmx make_ndx -f jz4.gro -o index_jz4.ndx ... \u0026gt; 0 \u0026amp; ! a H* \u0026gt; q  Then, execute the genrestr module and select this newly created index group (which will be group 3 in the index_jz4.ndx file):  gmx genrestr -f jz4.gro -n index_jz4.ndx -o posre_jz4.itp -fc 1000 1000 1000  Include this information in our topology. Here we want to restrain the ligand whenever the protein is also restrained. Add the following lines to your topology file (topol.top) in the location indicated (Location matters!):  ; Include Position restraint file #ifdef POSRES #include \u0026#34;posre.itp\u0026#34; #endif ; Include ligand topology #include \u0026#34;jz4.itp\u0026#34; ; Ligand position restraints #ifdef POSRES #include \u0026#34;posre_jz4.itp\u0026#34; #endif ; Include water topology #include \u0026#34;./charmm36-feb2021.ff/tip3p.itp\u0026#34; Thermostats Important: Do not couple every single species in your system separately.\nGroup JZ4 with the protein for the purposes of temperature coupling. In the same way, the few Cl- ions we inserted are considered part of the solvent. We need a special index group that merges the protein and JZ4. We accomplish this with the make_ndx module, supplying any coordinate file of the complete system. Here, we use em.gro, the output (minimized) structure of our system:\ngmx make_ndx -f em.gro -o index.ndx … 0 System : 33506 atoms 1 Protein : 2614 atoms 2 Protein-H : 1301 atoms 3 C-alpha : 163 atoms 4 Backbone : 489 atoms 5 MainChain : 651 atoms 6 MainChain+Cb : 803 atoms 7 MainChain+H : 813 atoms 8 SideChain : 1801 atoms 9 SideChain-H : 650 atoms 10 Prot-Masses : 2614 atoms 11 non-Protein : 30892 atoms 12 Other : 22 atoms 13 JZ4 : 22 atoms 14 CL : 6 atoms 15 Water : 30864 atoms 16 SOL : 30864 atoms 17 non-Water : 2642 atoms 18 Ion : 6 atoms 19 JZ4 : 22 atoms 20 CL : 6 atoms 21 Water_and_ions : 30870 atoms  Merge the \u0026ldquo;Protein\u0026rdquo; and \u0026ldquo;JZ4\u0026rdquo; groups with the following, where \u0026gt; indicates the make_ndx prompt:  \u0026gt; 1 | 13 Copied index group 1 \u0026#39;Protein\u0026#39; Copied index group 13 \u0026#39;JZ4\u0026#39; Merged two groups with OR: 2614 22 -\u0026gt; 2636 22 Protein_JZ4 : 2636 atoms \u0026gt; q We can now set tc-grps = Protein_JZ4 Water_and_ions to achieve our desired \u0026ldquo;Protein Non-Protein\u0026rdquo; effect.\n Proceed with NVT equilibration using the nvt.mdp file from this website.  gmx grompp -f nvt.mdp -c em.gro -r em.gro -p topol.top -n index.ndx -o nvt.tpr gmx mdrun -deffnm nvt Laptop fan started running almost immediately. I used an ice pack to cool the computer.\nStarted run at 2:02PM, finished at 2:12PM (634 s).\nStep Seven: Equilibration, Part 2  Once the NVT simulation is complete, proceed to NPT using the npt.mdp file from this website:  gmx grompp -f npt.mdp -c nvt.gro -t nvt.cpt -r nvt.gro -p topol.top -n index.ndx -o npt.tpr gmx mdrun -deffnm npt Run started at 2:25PM, finished at 2:38PM (690 s).\nStep Eight: Production MD  Download the md.mdp file from this website. Run a 10 ns molecular dynamics (MD) simulation:  gmx grompp -f md.mdp -c npt.gro -t npt.cpt -p topol.top -n index.ndx -o md_0_10.tpr gmx mdrun -deffnm md_0_10 The 100 ps runs took \\(\\approx\\) 10 min. For the production MD run of 10 ns, expect:\n\\[ \\mathsf{10\\ ns\\times\\cfrac{1000\\ ps}{ns}\\times\\cfrac{10\\ min}{100\\ ps}\\times\\cfrac{1\\ hr}{60\\ min}=16.7\\ hr} \\]\nNote: to print the math, I used MathJax.\nCore t (s) Wall t (s) (%) Time: 593342.460 74167.808 800.0 20h36:07 (ns/day) (hour/ns) Performance: 11.649 2.060 Step Nine: Analysis  To recenter the protein and rewrap the molecules within the unit cell to recover the desired rhombic dodecahedral shape, invoke trjconv:  gmx trjconv -s md_0_10.tpr -f md_0_10.xtc -o md_0_10_center.xtc -center -pbc mol -ur compact  Choose Protein for centering and System for output. -Extract the first frame (t = 0 ns) of the trajectory; use trjconv -dump with the recentered trajectory:  gmx trjconv -s md_0_10.tpr -f md_0_10_center.xtc -o start.pdb -dump 0  For even smoother visualization, it may be beneficial to perform rotational and translational fitting. Execute trjconv as follows:  gmx trjconv -s md_0_10.tpr -f md_0_10_center.xtc -o md_0_10_fit.xtc -fit rot+trans  Choose Backbone to perform least-squares fitting to the protein backbone, and \u0026ldquo;System\u0026rdquo; for output.  "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/introduction/hosting-the-site-on-github/",
	"title": "Hosting the Site on Github",
	"tags": [],
	"description": "",
	"content": "I more-or-less followed the instructions provided on the Hugo website.\nI already have a GitHub account. I\u0026rsquo;ll create a new public repository called pymol-notes, which will be the repository for my project. I\u0026rsquo;ll deploy my site from the gh-pages branch of my project.\nUpdate the local repository for the site.\ngit add . git status On branch master No commits yet Changes to be committed: (use \u0026#34;git rm --cached \u0026lt;file\u0026gt;...\u0026#34; to unstage) new file: .gitignore new file: .gitmodules new file: archetypes/default.md new file: config.toml new file: content/introduction/.DS_Store new file: content/introduction/_index.md new file: content/introduction/building-this-site.md new file: themes/hugo-theme-learn Commit the files.\ngit commit -a -m \u0026#34;first commit of site\u0026#34; Oops. I need to untrack the .DS_Store files.\ngit rm --cached content/introduction/.DS_Store echo \u0026#34;.DS_Store\u0026#34; \u0026gt;\u0026gt; .gitignore Preparations for gh-pages branch These steps only need to be done once. Replace upstream with the name of your remote; e.g., origin:\nMake sure your baseURL key-value in your site\u0026rsquo;s config.toml configuration file reflects the full URL of your GitHub pages repository if you’re using the default GitHub Pages URL (e.g., .github.io//) and not a custom domain.\n For this project, in config.toml, change baseURL = \u0026quot;http://example.org/\u0026quot; to\nbaseURL = \u0026#34;https://dgoppenheimer.github.io/pymol-notes/\u0026#34; Add the public folder to .gitignore Add the public folder to the .gitignore in your project root. You don\u0026rsquo;t need to track the files for the built site, only for the source files.\necho \u0026#34;public\u0026#34; \u0026gt;\u0026gt; .gitignore Initialize your gh-pages branch Initialize your local gh-pages branch as an empty orphan branch:\ngit checkout --orphan gh-pages git reset --hard git commit --allow-empty -m \u0026#34;Initializing gh-pages branch\u0026#34; git remote add origin git@github.com:dgoppenheimer/pymol-notes.git git push origin gh-pages git checkout master Build and deploy your project Checkout the gh-pages branch into your public directory using the git worktree feature. This feature allows you to checkout and have different branches of the same local repository in different directories.\nrm -rf public git worktree add -B gh-pages public origin/gh-pages Regenerate the site using the hugo command and commit the generated files on the gh-pages branch.\nhugo cd public git add --all git commit -m \u0026#34;Publishing to gh-pages\u0026#34; cd .. Or as a script, commit-gh-pages-files.sh\nhugo cd public \u0026amp;\u0026amp; git add --all \u0026amp;\u0026amp; git commit -m \u0026#34;Publishing to gh-pages\u0026#34; \u0026amp;\u0026amp; cd .. Push the changes to the gh-pages branch to the GitHub repo.\ngit push origin gh-pages Set gh-pages as your publish branch To publish the gh-pages branch as your site, you need to tweak some setting in GitHub.\n Log into your account using a web browser. Go to Settings → GitHub Pages. From Source, select gh-pages branch and then Save.  The site should be visible at https://dgoppenheimer.github.io/pymol-notes/.\nSuccess!\nTo automate the publishing to gh-pages process, create the following script: publish_to_ghpages.sh. Put this script in your project directory.\n#!/bin/sh if [ \u0026#34;`git status -s`\u0026#34; ] then echo \u0026#34;The working directory is dirty. Please commit any pending changes.\u0026#34; exit 1; fi echo \u0026#34;Deleting old publication\u0026#34; rm -rf public mkdir public git worktree prune rm -rf .git/worktrees/public/ echo \u0026#34;Checking out gh-pages branch into public\u0026#34; git worktree add -B gh-pages public origin/gh-pages echo \u0026#34;Removing existing files\u0026#34; rm -rf public/* echo \u0026#34;Generating site\u0026#34; hugo echo \u0026#34;Updating gh-pages branch\u0026#34; cd public \u0026amp;\u0026amp; git add --all \u0026amp;\u0026amp; git commit -m \u0026#34;Publishing to gh-pages (publish.sh)\u0026#34; #echo \u0026#34;Pushing to github\u0026#34; #git push --all Make the script executable.\nchmod +x publish_to_ghpages.sh Run the script with ./publish_to_ghpages.sh. Either uncomment the git push line, or manually run git push --all. Wait a few minutes and the site should be live on GitHub.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/vmd-notes/",
	"title": "VMD Notes",
	"tags": [],
	"description": "",
	"content": "Chapter 3 VMD Notes In addition to PyMOL, I also use VMD. I like that VMD has ambient occlusion lighting, which greatly enhances the visual appearance of the molecules. In this chapter, I\u0026rsquo;ll keep track of the various commands and scripts that I use most often.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/md-simulations/gromacs-simulations/analyze-trajectories-in-vmd/",
	"title": "Analyze Trajectories in VMD",
	"tags": [],
	"description": "",
	"content": "Useful information can be found on the following websites:\nAnalyze your trajectory\n Start VMD, open the Tk console and load the .gro file of the trajectory to analyze.  cd /Users/davidoppenheimer/Dropbox\\ \\(UFL\\)/GROMACS/gromacs-prot-ligand-tutorial mol new md_0_10.gro  Then load the trajectory file into the previously loaded molecule.  In the VMD Main window, select the molecule. Go to File → Load Data into Molecule and choose the .xtc trajectory to load from the file browser. Or use the Tk console.    mol addfile {/Users/davidoppenheimer/Dropbox (UFL)/GROMACS/gromacs-prot-ligand-tutorial/md_0_10_fit.xtc} type {xtc} first 0 last -1 step 1 waitfor 1 0  Create a representation of the water molecule, and then hide it.  mol addrep 0 # add representation to molecule 0; this is rep 1 # modstyle rep_number molecule_number rep_style mol modstyle 1 0 lines # rep 1, molecule 0 # modselect rep_number molecule_number select_method: Change the current selection for the given representation in the specified molecule. mol modselect 1 0 water # showrep molecule_number rep_number [on | off] mol showrep 0 1 off mol addrep 0 mol modselect 2 0 protein mol modselect 3 0 resname JZ4 mol modstyle 3 0 vdw mol showrep 0 0 off # turn off the \u0026#34;all\u0026#34; representation  Below are links to some useful programs to analyze trajectories.\n Nice trajectory post-processing scripts: Advanced VMD: Trajectories, movies, scripting\nMD-Task\nMD-Task Documentation\nMDAnalysis\nSTCSB\nRIP-MD\nwebPSN v2.0\nGeo-Measures This is a nice set of tools integrated into a PyMOL plugin.\nSide-chain network approach\nNot done yet! More to come.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/introduction/creating-a-logo/",
	"title": "Creating a Logo",
	"tags": [],
	"description": "",
	"content": "I\u0026rsquo;ll create my own logo to replace the beautiful GRAV logo.\nOpen PyMOL.\nfetch 3G6M, mol, async=0 extract caf1, /mol//A/CFF`427 h_add set valence, 0 hide everything, caf1 create molball, caf1 create molstick, caf1 show spheres, molball set sphere_scale, 0.25 show sticks, molstick set stick_radius, 0.15 disable mol color hydrogen, elem H and molball color wheat, elem C and molball color salmon, elem O and molball color lightblue, elem N and molball color skyblue, molstick set orthoscopic, off set field_of_view, 60 set ray_opaque_background, off viewport 640, 640 png caffeine-logo.png, width=640, height=640, ray=1 I opened this image in Affinity Designer, changed it to black and white, added the text (and rounded the ends of the letters), and saved it as an .svg file. I minimized the .svg file on the https://jakearchibald.github.io/svgomg/ site.\nUpdate The .svg file was rather large and didn\u0026rsquo;t look right. I decided to try something different. I used the .png file from PyMOL as a template and created a series of tubes for the bonds and circles for the atoms. I used a 2 pt black stroke and filled the objects with white. It took a while to get the layers in the correct order so the appropriate bonds were on top of the appropriate atoms. I saved the file as a .svg file. Without the .png embedded as base64, the file was much smaller.\nRefer to this post on Best Practices for Working with SVGs for useful tips.\nDo not change the logo.html file in the pymol-notes/themes/hugo-theme-learn/layouts/partials/ directory. Instead make a new partial in the layouts/partials directory of your local project. This partial will have the priority.\n Create a partials directory in the pymol-notes/layouts/ directory. Copy the logo.html file from pymol-notes/themes/hugo-theme-learn/layouts/partials/ to the pymol-notes/layouts/partials directory.\nOpen the new copy of logo.html in your favorite text editor and replace the svg code with your new logo.\nThe logo size will adapt to different screen sizes automatically.\n Replace the code in between the \u0026lt;svg\u0026gt; tags in logo.html with the contents of your .svg file. Also add the following to the \u0026lt;svg\u0026gt; tag:\nid=\u0026#34;pymol-notes-logo\u0026#34; style=\u0026#34;width:100%; height:100%;\u0026#34; To the second and third \u0026lt;path\u0026gt; tags, add fill=\u0026quot;#fff\u0026quot; so that the text is displayed as white.\nSave the logo.html file, and spin up the site with hugo server. Check the site locally at 127.0.0.1:1313/pymol-notes.\nSuccess!\nCreate a favicon Select the molecule image and paste it into a new Affinity Designer document.\nExport it as favicon.png at 64 x 52 px (144 dpi resolution).\nPlace it in the local static/images/ folder.\nSuccess!\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/introduction/automatic-build-and-deploy/",
	"title": "Automatic Build and Deploy using GitHub Actions",
	"tags": [],
	"description": "",
	"content": "I\u0026rsquo;m using GitHub Pages to host this site. I started by building the site locally, and pushing the /public directory to my gh-pages branch on GitHub. (See these instructions on the Hugo website.) GitHub provides native support for building Jekyll sites, but does not have native support for Hugo. Nonetheless, using GitHub Actions, I can build and deploy my Hugo site automatically when I push new content to the main branch of my GitHub repository.\nGetting started Rename master to main First, rename local branch.\ncd ~/Sites/pymol-notes git branch -m master main git status On branch main nothing to commit, working tree clean Next, rename remote branch.\ngit push -u origin main git push origin --delete master Because I am the solo developer on this project and I have a single local repository, I don\u0026rsquo;t have to do anything else.\nAutomate the build and deploy workflow First, create a .github/workflows/ directory in your project root.\nNext, create a gh-pages.yaml file in the .github/workflows/ directory that has the following contents.\nname: Build and Deploy on: push: branches: - main jobs: build: runs-on: ubuntu-latest steps: - name: Checkout main uses: actions/checkout@v1 with: submodules: true - name: Hugo Deploy GitHub Pages uses: benmatselby/hugo-deploy-gh-pages@master env: HUGO_VERSION: 0.75.0 TARGET_REPO: dgoppenheimer.github.io/pymol-notes/ TOKEN: ${{ secrets.EXAMPLE_TOKEN }} Let\u0026rsquo;s test this.\nhugo new introduction/test-page.md Results No joy.\nHere is a nice tutorial:\nHugo: Deploy Static Site using GitHub Actions\nAnd another set of instructions that uses a similar .yml file from peaceiris:\nDeploy Hugo project to GitHub Pages with GitHub Actions\nI had success using the peaceiris actions\nHere is the gh-pages.yml file that I used:\nname: github pages on: push: branches: - main # Set a branch to deploy jobs: deploy: runs-on: ubuntu-18.04 steps: - uses: actions/checkout@v2 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#39;0.75.1\u0026#39; # extended: true - name: Build run: hugo - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: github_token: ${{ secrets.EXAMPLE_TOKEN }} publish_dir: ./public Note: I removed \u0026ndash;minify from run: hugo, otherwise, my svg logo was not visible.\nGreat. Now I can work on a page, save it and do the following to update the site:\ncd ~/Sites/pymol-notes git status git add . git commit -m \u0026#34;updated site, added a page, corrected typos\u0026#34; git push origin main "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/jupyter-notebooks/",
	"title": "Jupyter Notebooks",
	"tags": [],
	"description": "",
	"content": "Chapter 4 Jupyter Notebooks Jupyter notebooks (or the newer interface, JupyterLab) is a web-based notebook and programming environment. It can be used to store and run code, conduct analyses, and prepare visualizations. Notebooks can be shared and many programming languages are supported.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/molecular-modeling-tutorials/",
	"title": "Molecular Modeling Tutorials",
	"tags": [],
	"description": "",
	"content": "Chapter 5 Molecular Modeling Tutorials The tutorials are from the Cloud-based Tutorials on Structural Bioinformatics Github repository. These tutorials use Google Colab Jupyter notebooks. Be sure to switch to the correct Google account after starting Colab, but before you save the notebook to your Google Drive.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/coloring/",
	"title": "Coloring",
	"tags": [],
	"description": "",
	"content": "Chapter 7 Coloring PyMOL has extensive coloring possibilities that offer fine-grained control over all coloring controls. This chapter outlines the coloring functions that I use most often.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/pymol-tips/",
	"title": "Pymol Tips",
	"tags": [],
	"description": "",
	"content": "Chapter 6 Pymol Tips This chapter focuses on PyMOL-specific tips and tricks to increase productivity when working with PyMOL.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/coloring/color-by-b-factor/",
	"title": "Color by B-factor",
	"tags": [],
	"description": "",
	"content": "B-factors are measures of how much thermal motion an atom exhibited during the determination of a protein structure by X-ray crystallography. It is useful to color a protein based on the b-factors of its backbone atoms to see the segments of the protein that are most dynamic (or where the uncertainty in atom positions is the highest).\nThe best way to color by b-factor in PyMOL is to use the color_b.py script. The script can be downloaded from the PyMOL Script Repository.\n Download the color_b.py script. Put the script into your PyMOL scripts directory or your current working directory. Type run color_b.py in the PyMOL command line.  Usage  Make a selection.  select ca, name ca # select alpha carbons and name the selection ca  Color the selection.  color_b selection=\u0026#39;ca\u0026#39;,mode=ramp,gradient=bwr,nbins=30,sat=.5, value=1  color_b: invokes the command selection='ca': indicates the named selection that will be colored mode=ramp: chooses ramp for gradient mode  From the help file:\n The division of B-value ranges can be in either of two modes: \u0026lsquo;hist\u0026rsquo; or \u0026lsquo;ramp\u0026rsquo;. \u0026lsquo;hist\u0026rsquo; is like a histogram (equal-sized B-value increments leading to unequal numbers of atoms in each bin). \u0026lsquo;ramp\u0026rsquo; as a ramp of B-value ranges with the ranges chosen to provide an equal number of atoms in each group.\n  gradient=bwr: chooses one of the many preset gradients   The gradients can be:\n\u0026#39;bgr\u0026#39;: blue -\u0026gt; green -\u0026gt; red \u0026#39;rgb\u0026#39;: red -\u0026gt; green -\u0026gt; blue \u0026#39;bwr\u0026#39;: blue -\u0026gt; white -\u0026gt; red \u0026#39;rwb\u0026#39;: red -\u0026gt; white -\u0026gt; blue \u0026#39;bmr\u0026#39;: blue -\u0026gt; magenta -\u0026gt; red \u0026#39;rmb\u0026#39;: red -\u0026gt; magenta -\u0026gt; blue \u0026#39;rw\u0026#39; : red -\u0026gt; white \u0026#39;wr\u0026#39; : white -\u0026gt; red \u0026#39;ry\u0026#39; : red -\u0026gt; yellow \u0026#39;yr\u0026#39; : yellow -\u0026gt; red \u0026#39;gw\u0026#39; : green -\u0026gt; white \u0026#39;wg\u0026#39; : white -\u0026gt; green \u0026#39;bw\u0026#39; : blue -\u0026gt; white \u0026#39;wb\u0026#39; : white -\u0026gt; blue \u0026#39;gy\u0026#39; : green -\u0026gt; yellow \u0026#39;yg\u0026#39; : yellow -\u0026gt; green \u0026#39;gray\u0026#39; : black -\u0026gt; white \u0026#39;reversegray\u0026#39; : white -\u0026gt; black \u0026#39;user\u0026#39; : user defined in this script   nbins=30: Sets the number of bins for the color gradient. Higher numbers are wider gradients. sat=.5, value=1:   You can also specify the saturation and value (i.e. the \u0026ldquo;s\u0026rdquo; and \u0026ldquo;v\u0026rdquo; in the \u0026ldquo;HSV\u0026rdquo; color scheme) to be used for the gradient. The defaults are 1.0 for both \u0026ldquo;sat\u0026rdquo; and \u0026ldquo;value\u0026rdquo;.\n  Type help(color_b) to get these and additional usage guidelines.  "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/pymol-tips/useful-commands/",
	"title": "Useful Commands",
	"tags": [],
	"description": "",
	"content": "I created this document to store the commands I use often in PyMOL, but can\u0026rsquo;t remember them when I need them.\nDownloading the biological assembly from RCSB The default of the fetch command is to download the asymmetric unit from RCSB. If your protein of interest is a dimer or multimer then you need to download the biological assembly.\nSee the PyMOL wiki entry for fetch, examples 3 and 4. Also see the entry for assembly.\nExample code for downloading the biological assembly of 6tof:\nfetch 6tof, type=pdb1 spit_states 6tof Or\nset assembly, 1 fetch 6tof, assembly1, async=0 split_states assembly1 An alternative is to use symmetry mates. Here is the PyMOL wiki page for symexp showing how to do that. An example:\n# Expand the \u0026#39;\u0026#39;object\u0026#39;\u0026#39; around its \u0026#39;\u0026#39;selection\u0026#39;\u0026#39; by cutoff Angstroms and # prefix the new objects withs \u0026#39;\u0026#39;prefix\u0026#39;\u0026#39;. symexp prefix, object, selection, cutoff [, segi] Or\nfetch 6tof symexp mate, 6tof, 6tof, 1 To use symexp, you need to know which of the symmetry mates to keep and which to discard. In other words, you need to know what the biological assembly looks like, which is usually shown on the RCSB page for the protein of interest.\nReinitialize They do not mention this on the PyMOL wiki reinitialize page, but you can run this command using reinit or even rein.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/pymol-tips/pymol-shortcuts/",
	"title": "PyMOL Shortcuts",
	"tags": [],
	"description": "",
	"content": "This page describes the installation and use of the pymolshortucs built by B.H.M. Mooers and described in Mooers (2020) 1.\nInstall the date time module The pymolshortcuts.py script has a shortcut to timestamp filenames produced by PyMOL. To use this, the date time module needs to be installed. Because I have MacPorts on my system, I\u0026rsquo;ll used the suggested MacPorts installation instructions.\nIn a terminal window, type the following command:\nsudo -H /opt/local/bin/python3.7 -m pip install --upgrade datetime Upgrade pip too.\nsudo -H /opt/local/bin/python3.7 -m pip install --upgrade pip Download the script file  Download and unpack the pymolshortcuts-master.zip file. Move the pymolshortcuts-master folder into the ~/pymol-work/1-scripts` directory.  Edit the .pymolrc  Add run ~/pymol-work/1-scripts/pymolshortcuts-master/pymolshortcuts.py to the bottom of the file. Save and close the file.  Test the script  Open PyMOL. Type the following into the command prompt:  Fetch 3OAC AO Success! The molecule has ambient occlusion lighting.\nInstall the shortcuts in VS Code Follow the instructions on this site: PyMOL Script Writing with Code Templates.\n Open VS Code and install the bioSyntax extension. Download and unpack the pymolsnips-master.zip file from the pymolsnips github repository. Move into the vscpymolsnips folder and run the following command:  mv pml.json ~/Library/Application\\ Support/Code/User/snippets  Restart VS Code. Create a new file and save it as test.pml. Type ao and the autocomplete should trigger to insert the ao code. Hit enter to insert the code.  Success! I can insert PyMOL code into documents I create/edit in VS Code.\n  Mooers, B.H.M. (2020). Shortcuts for faster image creation in PyMOL. Protein Sci 29: 268–276. \u0026#x21a9;\u0026#xfe0e;\n   "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/molecular-modeling-tutorials/lab.00-software/",
	"title": "Lab.00 Software",
	"tags": [],
	"description": "",
	"content": "This tutorial was taken from the Cloud-based Tutorials on Structural Bioinformatics Github repository.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/md-simulations/making-it-rain/",
	"title": "Making It Rain",
	"tags": [],
	"description": "",
	"content": "Making it rain 1 is a front end for running molecular dynamics simulations using cloud-based resources. It makes use of the OpenMM toolkit, Google Colab framework, and Jupyter notebooks.\nBefore I start running MD simulations in Colab, I will start with some Colab-Jupyter tutorials outlined in the paper by Engelberger et al. (2021) 2. These tutorials are available from the Cloud-based Tutorials on Structural Bioinformatics github repository.\nAlso see this blog: New paper describes Google Colab notebooks to efficiently run molecular dynamics simulations of proteins\nPyRosetta notebooks PyRosetta Google Drive Setup First follow these instructions:\n Visit the RosettaCommons/PyRosetta.notebooks github page. Click on Chapter 1: How to get started. Change to the Google work account (Step 1) Get the PyRosetta License. Mount Google Drive. (Step 2) Copy the 01.00-How-to-Get-Started.ipynb notebook to your google drive. Rename the copy to 01.00-How-to-Get-Started-dgo.ipynb. (Step 3) Run the first two cells in the 01.00-How-to-Get-Started-dgo.ipynb jupyter notebook.  PyRosetta installed at \u0026#39;prefix\u0026#39;... Please click \u0026#34;Runtime → Restart runtime\u0026#34; before using it. Success!\n Run the code in cell 2.  Success!\nInstall extensions  (Step 4) Run the cell with the following code:  if not os.getenv(\u0026#34;DEBUG\u0026#34;): !pip install attrs billiard biopython blosc dask dask-jobqueue distributed GitPython graphviz jupyter matplotlib numpy pandas py3Dmol scipy seaborn traitlets --user I got the following error:\nNameError: name \u0026#39;os\u0026#39; is not defined Add the following to the code at the top:\nimport os Success!\nNow I will try the Cloud-based Tutorials on Structural Bioinformatics.\n p3lab (IBM3202)tutorials Lab.00 Software  Go to the Cloud-based Tutorials on Structural Bioinformatics github repository. Choose Lab.00 and Open in Colab. change account to work account Copy the notebook to Google Drive and rename it lab00_software-dgo.ipynb. Setting up PyRosetta: follow instructions. Update the minor version information in the code. I changed  if sys.version_info.major != 3 or sys.version_info.minor != 6: to\nif sys.version_info.major != 3 or sys.version_info.minor != 7: I also needed to change the version downloaded to:\nhttp://graylab.jhu.edu/download/PyRosetta4/archive/release/PyRosetta4.MinSizeRel.python37.linux/PyRosetta4.MinSizeRel.python37.linux.release-300.tar.bz2 Success! File is downloading.\nI\u0026rsquo;m not sure why the instructions say to follow the PyRosetta installation from the PyRosetta notebooks, then install it again, here. It appeared to be already installed in a prefix directory from my first installation attempt.\n I saw a fatal error early in the running of the script in the output cell. However, the streaming was truncated to the last 5000 lines, and I cannot find where the log files (if any) are located. The error had something to do with .pth files. The installation appeared to succeed\u0026ndash;it ended with PyRosetta setup took: 687.3s..., which is the last line of the script.\nI ran the checks for PyRosetta and the scripts ran without problems. There was one user warning:\nImport of \u0026#39;rosetta\u0026#39; as a top-level module is deprecated and may be removed in 2018, import via \u0026#39;pyrosetta.rosetta\u0026#39;. This is separate from the ipykernel package so we can avoid doing imports until It looks like the warning was truncated.\nFrom this site\n As a result changing\nfrom rosetta import * from pyrosetta import * from rosetta.protocols.rigid import * to\nfrom pyrosetta.rosetta import * from pyrosetta import * from pyrosetta.rosetta.protocols.rigid import *  In my case:\nConsider changing\nfrom pyrosetta import * from rosetta.protocols.rosetta_scripts import * from pyrosetta import ( to\nfrom pyrosetta import * from pyrosetta.rosetta.protocols.rosetta_scripts import * from pyrosetta import ( Installation of GROMACS  Follow the instructions in the notebook.  Had some problems.\nGROMACS set up completed . . . GROMACS extraction completed . . . -- Downloading... done -- extracting... done . . . Making all in generic-simd256 . . . Making all in . . . . Making all in tools . . . Making install in . . . . [ 1%] Completed \u0026#39;fftwBuild\u0026#39; . . . src/gromacs/CMakeFiles/libgromacs.dir/build.make:63: recipe for target \u0026#39;src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/libgromacs_generated_nbnxm_cuda.cu.o\u0026#39; failed CMakeFiles/Makefile2:3038: recipe for target \u0026#39;src/gromacs/CMakeFiles/libgromacs.dir/all\u0026#39; failed Makefile:162: recipe for target \u0026#39;all\u0026#39; failed GROMACS building completed src/gromacs/CMakeFiles/libgromacs.dir/build.make:63: recipe for target \u0026#39;src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/libgromacs_generated_nbnxm_cuda.cu.o\u0026#39; failed CMakeFiles/Makefile2:3038: recipe for target \u0026#39;src/gromacs/CMakeFiles/libgromacs.dir/all\u0026#39; failed CMakeFiles/Makefile2:1091: recipe for target \u0026#39;CMakeFiles/check.dir/rule\u0026#39; failed Makefile:587: recipe for target \u0026#39;check\u0026#39; failed GROMACS testing completed src/gromacs/CMakeFiles/libgromacs.dir/build.make:63: recipe for target \u0026#39;src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/libgromacs_generated_nbnxm_cuda.cu.o\u0026#39; failed CMakeFiles/Makefile2:3038: recipe for target \u0026#39;src/gromacs/CMakeFiles/libgromacs.dir/all\u0026#39; failed Makefile:162: recipe for target \u0026#39;all\u0026#39; failed GROMACS installation completed. Please check if any errors occurred during installation /content/gromacs-2020.3/build/src/external/build-fftw/fftwBuild-prefix/src/fftwBuild/configure: line 8325: /usr/bin/file: No such file or directory nvcc fatal : Unsupported gpu architecture \u0026#39;compute_30\u0026#39; CMake Error at libgromacs_generated_nbnxm_cuda.cu.o.Release.cmake:219 (message): Error generating /content/gromacs-2020.3/build/src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/./libgromacs_generated_nbnxm_cuda.cu.o make[2]: *** [src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/libgromacs_generated_nbnxm_cuda.cu.o] Error 1 make[1]: *** [src/gromacs/CMakeFiles/libgromacs.dir/all] Error 2 make: *** [all] Error 2 nvcc fatal : Unsupported gpu architecture \u0026#39;compute_30\u0026#39; CMake Error at libgromacs_generated_nbnxm_cuda.cu.o.Release.cmake:219 (message): Error generating /content/gromacs-2020.3/build/src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/./libgromacs_generated_nbnxm_cuda.cu.o make[3]: *** [src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/libgromacs_generated_nbnxm_cuda.cu.o] Error 1 make[2]: *** [src/gromacs/CMakeFiles/libgromacs.dir/all] Error 2 make[1]: *** [CMakeFiles/check.dir/rule] Error 2 make: *** [check] Error 2 nvcc fatal : Unsupported gpu architecture \u0026#39;compute_30\u0026#39; CMake Error at libgromacs_generated_nbnxm_cuda.cu.o.Release.cmake:219 (message): Error generating /content/gromacs-2020.3/build/src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/./libgromacs_generated_nbnxm_cuda.cu.o make[2]: *** [src/gromacs/CMakeFiles/libgromacs.dir/nbnxm/cuda/libgromacs_generated_nbnxm_cuda.cu.o] Error 1 make[1]: *** [src/gromacs/CMakeFiles/libgromacs.dir/all] Error 2 make: *** [all] Error 2 From this Stackoverflow issue\n use GROMACS 2020.4\n Restart Runtime (factory reset).\n Reinstall GROMACS using the 2020.4 version.  2021-11-01 15:41:58 (16.1 MB/s) - ‘gromacs-2020.4.tar.gz’ saved [29149899/29149899]  Start over from top.\nPyRosetta setup took: 5000.8s... Change\nimport pandas as pd from pyrosetta import * from rosetta.protocols.rosetta_scripts import * from pyrosetta import ( init, pose_from_sequence, pose_from_file, Pose, MoveMap, create_score_function, get_fa_scorefxn, MonteCarlo, TrialMover, SwitchResidueTypeSetMover, PyJobDistributor, ) to\nimport pandas as pd from pyrosetta import * from pyrosetta.rosetta.protocols.rosetta_scripts import * from pyrosetta import ( init, pose_from_sequence, pose_from_file, Pose, MoveMap, create_score_function, get_fa_scorefxn, MonteCarlo, TrialMover, SwitchResidueTypeSetMover, PyJobDistributor, ) Installing GROMACS Change to\n!wget http://ftp.gromacs.org/pub/gromacs/gromacs-2020.4.tar.gz in the following code, change gromacs-2020.3 to gromacs-2020.4\nIt appears that code cells that use %%bash scripts do not show intermediate output. You only get output when the entire script is done.\n Success!\nGROMACS installation completed. Please check if any errors occurred during installation The next cell executed successfully. Output of gmx -h was the gromacs help file.\nBackup GROMACS to Google Drive Success!\nInstallation of SBM-enhanced GROMACS Downloading SBM-enhanced GROMACS was successful.\nExtracting and Installing it did not show output %%bash until the end.\nSBM-enhanced GROMACS installation completed. Please check if any errors occurred during installation Installation check: gmx -h returned the help file. Success!\nBacking up:\nGROMACS successfully backed up! Software notebook, lab00_software-dgo.ipynb, successfully completed!\nColab tips From this website.\n Go to colab Change to the Google work account Click on the 3 dots in the upper right corner of your Chrome browswer. Go to More Tools -\u0026gt; Create Shortcut\u0026hellip; Give the shortcut a name such as Colab. Click the box, Open as window. Click Create.  Great! Now you have an app on your computer that will launch Colab in a new window.\nLab.01 warmup  Open the Colab app. In the GitHub tab, open this link. Open the tutorials/lab01_intro.ipynb notebook. Save a copy to Drive, and rename it with the -dgo suffix.  As soon as you make a copy of the notebook, the copy is opened in the browser, which defeats the purpose of using the Colab shortcut app.\n  Continue with tutorial.  Resources for data visualization Seaborn From the Seaborn website:\n Seaborn is a Python data visualization library based on matplotlib. It provides a high-level interface for drawing attractive and informative statistical graphics.\n There is a nice Seaborn tutorial presented as a jupyter notebook in Colab: 04.14-Visualization-With-Seaborn.ipynb.\nPandas Pandas\nAn introduction to Pandas is provided by Google as a colab notebook and a tutorial can be found at Pandas DataFrame UltraQuick Tutorial.ipynb.\nThere are tutorials available on the Pandas documentation website.\nData science tutorials Data Science 101: Build your first Machine Learning Model with Pandas, Scikit-Learn, and Google Colab\nsimple tutorial for sharing jupyter notebooks on GitHub\n git init change master to main git add README.md git add GeeksForGeeks.ipynb git commit -m \u0026ldquo;notebook first commit\u0026rdquo; git remote add origin https://github.com/{Your repo}/GeeksForGeeks.git git push -u origin master  Organizing notebooks extensions for code review\nnbpages From the nbpages documentation:\n nbpages is a command line tool for publishing a collection of Jupyter notebooks to Github Pages. This project was inspired by the tools included with the Python Data Science Handbook by Jake Vanderplas.\n Intalling nbextensions The jupyter notebook extensions are a useful set of tools that makes working with jupyter notebooks easier. See 10 Jupyter Notebook Extensions Making My Lyfe Easier for some of them.\n Try these commands (note: conda is not installed on colab):  !pip install jupyter_contrib_nbextensions # it appears many of the packages are already installed !pip install jupyter_nbextensions_configurator # Requirement already satisfied: !jupyter contrib nbextension install --user !jupyter nbextensions_configurator enable --user Installation of PyRosetta  Get the PyRosetta License. Mount Google Drive.  Success!\nAvoiding colab timeouts How to save Google Colab Notebooks from runtime timeouts has a keep alive script that you can get from the sour4bh/stop-cursing-colab repository. It uses AutoHotKey.\n Adding CSS to colab notebooks From Stackoverflow.\nMore Stackoverflow answers, but these are from a few years ago.\nThis might work\nOther online jupyter notebook environments Kaggle access free GPUs\nCoCalc\nOffers real-time collaboration, version control, chat, and other features.\nAlso has been used for teaching since 2013, so has useful teaching features.\nPricing: $14 per student, and a per month/core/project, etc. subscriptions.\nAcademic Research Group: $831/yr\nHobbyist: $70/yr, but only 1GB/project\nInstalling conda on colab  Follow the instructions at How to install / use Conda on Google Colab (May 2021). Check for conda.  !conda --version /bin/bash: conda: command not found Conda is not installed.\n Install it with the pip command.  !pip install -q condacolab import condacolab condacolab.install() I may not need this if I stick with pip.\n    Arantes, P.R., Polêto, M.D., Pedebos, C., and Ligabue-Braun, R. (2021). Making it Rain: Cloud-Based Molecular Simulations for Everyone. J Chem Inf Model 61: 4852–4856. doi: 10.1021/acs.jcim.1c00998. \u0026#x21a9;\u0026#xfe0e;\n Engelberger, F., Galaz-Davison, P., Bravo, G., Rivera, M., and Ramírez-Sarmiento, C.A. (2021). Developing and Implementing Cloud-Based Tutorials That Combine Bioinformatics Software, Interactive Coding, and Visualization Exercises for Distance Learning on Structural Bioinformatics. doi: 10.1021/acs.jchemed.1c00022 \u0026#x21a9;\u0026#xfe0e;\n   "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/jupyter-notebooks/installing-jupyter/",
	"title": "Installing JupyterLab",
	"tags": [],
	"description": "",
	"content": "I\u0026rsquo;ve decided to give JupyterLab a try. Follow the installation instructions on the Jupyter website. This will allow me to test the notebooks locally. If all works well, I\u0026rsquo;ll try to repeat it on Google Colab and UF JupyterHub.\nInstall conda First I need to install conda.\n Download the Miniconda installer. Check the installer hash:  shasum -a 256 ~/Downloads/Miniconda3-latest-MacOSX-x86_64.sh An easier way to compare the hashes:\ncd ~/Downloads echo \u0026#34;8fa371ae97218c3c005cd5f04b1f40156d1506a9bd1d5c078f89d563fd416816 Miniconda3-latest-MacOSX-x86_64.pkg\u0026#34; | shasum -a 256 -c Miniconda3-latest-MacOSX-x86_64.pkg: OK  Double-click on the installer and follow the prompts. Restart iTerm2. Test installation with conda list.  Success!\nInstall JupyterLab  Use conda to install jupyterlab.  conda install -c conda-forge jupyterlab  Restart iTerm2. Launch JupyterLab with jupyter-lab.  Success!\n Use Use Control-C to stop the JupyterLab server.  "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/introduction/hugo-basics/",
	"title": "Hugo Basics",
	"tags": [],
	"description": "",
	"content": "Here I\u0026rsquo;ll note some basic hugo commands so I don\u0026rsquo;t have to keep searching the web. The chapter and page commands are from the Hugo-theme-learn Documentation.\nCreate a new chapter:\nhugo new --kind chapter \u0026lt;chapter-name\u0026gt;/_index.md This creates a chapter page with the following front matter:\n+++ title = \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date = {{ .Date }} weight = 5 chapter = true pre = \u0026#34;\u0026lt;b\u0026gt;X. \u0026lt;/b\u0026gt;\u0026#34; +++ ### Chapter X  # Some Chapter title Lorem Ipsum. Just change the X to the correct chapter number.\nTo create a regular page:\nhugo new \u0026lt;chapter-name\u0026gt;/\u0026lt;page-name\u0026gt;.md This will create a page with the following front matter:\n+++ title = \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date = {{ .Date }} weight = 5 +++ Lorem Ipsum. "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/md-simulations/md-notes/",
	"title": "MD Notes",
	"tags": [],
	"description": "",
	"content": "Common software GROMACS CHARMM CHARMM Tutorials\nAMBER NAMD ABINIT for free energy calculations\nDL_POLY\nMaking it rain: Cloud-based molecular simulations for everyone\nForce fields Force fields for small molecules There is a recent paper that covers this topic by Lin and MacKerell 1, Force fields for small molecules.\nOPLS-All-Atom (OPLS-AA)\nOPLS3\nCHARMM General force field (CGenFF) see ParamChem\nGeneral AMBER Force Field (GAFF)\nMerck Molecular Force Field (MMFF)\nGROMOS\nDrude Polarizable Force Field for Small Organic Molecules\nDrude General Force Field (DGenFF)\n Parameters for drug-like small molecules have not been reported with the AMBER polarizable force field or CHARMM FQ models.\n QM calculations To validate the parameters:\nForce Field Toolkit (ffTK)\nGeneral Automatic Atomic Model Parametrization (GAAMP) utility\nAlso see the MacKerrell lab website\nkaggle notebook on kinase inhibitors\nTutorial - Quantum Chemistry with Gaussian using GaussView\nMolecular Dynamics Method 2\nExplore using treeClust (machine learning) to uncover associations between residues that have high RMSD =\u0026gt; allostery\n  Lin, F.Y., and MacKerell, A.D. (2019). Force Fields for Small Molecules. Methods Mol. Biol. 2022: 21–54. doi: 10.1007/978-1-4939-9608-7_2 \u0026#x21a9;\u0026#xfe0e;\n   "
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/md-simulations/gromacs-simulations/",
	"title": "GROMACS Simulations",
	"tags": [],
	"description": "",
	"content": "Here I\u0026rsquo;ll document my learning of GROMACS for molecular dynamics simulations. I\u0026rsquo;ll start with a few tutorials and then move on to some of the proteins (including membrane proteins) that I discuss in my Cancer Biology course.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/vmd-notes/vmd-scripting/",
	"title": "VMD Scripting",
	"tags": [],
	"description": "",
	"content": "VMD scripting is handy for executing command that you do often\u0026ndash;like preparing a molecule for a figure, or for carrying out certain analyses. When I use PyMOL, I have a set of scripts for coloring atoms and defining various representations so I don\u0026rsquo;t have to repeat these by hand each time I need them. In addition, there are useful scripts available for analyzing protein structure and trajectories.\nScripting Resources Here are some web resources for scripting in VMD:\nFrom the VMD wiki:\nScripting in VMD\nAdvanced Script Writing\nOther VMD scripting resources:\nVMD Script Library\nA few useful short scripts: VMD\nResources\nOther useful structural biology resources:\nOpenStructure\nSpotOn: High Accuracy Identification of Protein-Protein Interface Hot-Spots\nFrom the VMD wiki:\n Finding contact residues Suppose you want to view the atoms in A which are in contact with B. Use the within of selection command. For purposes of demonstration, let A be protein, B be nucleic, and define contact as an atom in A which is within 2 Å of an atom in B. Then the selection command is\nprotein within 2 of nucleic If you want to see all the residues of A which have at least one atom in contact with B, use\nsame residue as (protein within 2 of nucleic)  mono2poly 1.0 script\nThis script takes a monomer from an asymmetric unit of a crystal structure and makes the appropriate translations as found in the .pdb header to get the full polymer.\nThe mono2poly.tcl script strips out ligands and other hetero atoms.\n How to use:\nsource mono2poly.tcl mol delete all mol new 1c8e.pdb set sel [atomselect top all] set matrix [parsematrix 1c8e.pdb] mono2poly -o outname $sel $matrix An alternative to the mono2poly.tcl script to build the biological assembly from a monomer in the asymmetric unit is to:\n download the biological assembly file from RCSB. Go into the Trajectory tab and change the Draw Multiple Frames: value to 0.20 for a dimer, or 0.30 for a trimer, etc.  With the above alternative, I cannot select residues on each monomer\u0026ndash;I can only select residues on one monomer, and each monomer is labeled chain A.\n Here is another script to create a biological assembly from a .pdb file:\nmergemultiframepdb 1.0\nEXAMPLE USAGE:\nsource mergemultiframepdb.tcl # the script is in the working directory mol delete all mol new 2cft.pdb # the multi-frame .pdb file merge_multi_frame_structure top /tmp/ 2cft-poly # Results will be written to /my/final/filename.psf and /my/final/filename.pdb  The above script fails if your protein has a ligand.\n check out this site\nTry TopoTools\nThis is probably the best way: I could use grep or awk or just do it by hand:\npreparing a dimeric protein for NAMD\nbuild section of main menu and use the pdb scan function. ( I can\u0026rsquo;t find it)\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/tags/tutorial/",
	"title": "tutorial",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/introduction/customizing-the-site/",
	"title": "Customizing the Site",
	"tags": [],
	"description": "",
	"content": "Removing the copy-to-clipboard button from inline code The copy-to-clipboard button is useful on code blocks, but distracting when attached to the inline code. I thought I could remove it using custom css, so I created a static/css directory in the root of my project and added a custom.css file to contain my overrides. To have hugo see the custom file, add the following to config.toml:\n[params] custom_css = [\u0026#34;css/custom.css\u0026#34;] Now I need to figure out what css to override.\nFrom searching the web, I found an old issue on the hugo-theme-learn repository, Configuration of the appearance of the copy-to-clipboard icons, where a user suggested using this css:\n:not(pre) \u0026gt; code + span.copy-to-clipboard { display: none; } But more importantly, the theme designer, matcornic, updated the theme to provide this function in the theme\u0026rsquo;s configuration file.\nAdd this to config.toml in the [params] section:\n[params] disableInlineCopyToClipBoard = true Success!\nIf I would have read the Configuration section of the Learn Theme for Hugo documentation, I would have seen the global site parameters where disableInlineCopyToClipBoard is mentioned.\n Adding author and date to posts From the Hugo course by Mike Dane:\n An archetype is basically a template for default front matter. You can create archetype files and when you use the hugo new \u0026lt;filename\u0026gt; command, that default frontmatter will automatically be included.\n  Go to the archetypes folder at the root of your project folder. Open the default.md file and add lastmodifierdisplayname: DGO to the frontmatter.  Now I\u0026rsquo;ll be added as author on all new documents. At some point I\u0026rsquo;ll add lastmodifierdisplayname: DGO to the previous posts.\n Open config.toml. Add the following to the [params] section:  [params] LastModifierDisplayName = true  Copy _default/single.html from the theme folder to the project directory to get the following folder structure: /layouts/_default/single.html. Remove the icons, the email to:, and change the date format in /layouts/_default/single.html. Change  {{ partial \u0026quot;header.html\u0026quot; . }} {{ .Content }} \u0026lt;footer class=\u0026quot;footline\u0026quot;\u0026gt; {{with .Params.LastModifierDisplayName}} \u0026lt;i class='fas fa-user'\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;a href=\u0026quot;mailto:{{ $.Params.LastModifierEmail }}\u0026quot;\u0026gt;{{ . }}\u0026lt;/a\u0026gt; {{with $.Date}} \u0026lt;i class='fas fa-calendar'\u0026gt;\u0026lt;/i\u0026gt; {{ .Format \u0026quot;02/01/2006\u0026quot; }}{{end}} \u0026lt;/div\u0026gt; {{end}} \u0026lt;/footer\u0026gt; {{ partial \u0026quot;footer.html\u0026quot; . }} To\n{{ partial \u0026#34;header.html\u0026#34; . }} {{ .Content }} \u0026lt;footer class=\u0026#34;footline\u0026#34;\u0026gt; {{with .Params.LastModifierDisplayName}} \u0026lt;i class=\u0026#39;fas fa-user\u0026#39;\u0026gt;\u0026lt;/i\u0026gt; {{ . }}, {{with $.Date}} {{ .Format \u0026#34;02 January 2006\u0026#34; }}{{end}} \u0026lt;/div\u0026gt; {{end}} \u0026lt;/footer\u0026gt; {{ partial \u0026#34;footer.html\u0026#34; . }} Success!\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/",
	"title": "PyMOL Notes",
	"tags": [],
	"description": "",
	"content": "  Welcome to PyMOL Notes Mainly, I built this site to keep track of my notes when using PyMOL. Hopefully I\u0026rsquo;ll be able to find what I need, when I need it.\nBut I also wanted to make a website using Hugo. I previously built a blog, Cell Bones, using Jekyll. When I found the Hugo theme, Learn, I thought it would be ideal to sort out all my PyMOL notes.\n"
},
{
	"uri": "https://dgoppenheimer.github.io/pymol-notes/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
}]